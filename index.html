<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Карта бара</title>

<style>
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
    background:#0e0e0e;
    color:#fff;
}
h1{
    text-align:center;
    padding:20px;
}
.container{
    max-width:700px;
    margin:auto;
    padding:15px;
}
.card{
    background:#171717;
    border-radius:16px;
    padding:18px;
    margin-bottom:12px;
}
.name{font-size:22px;font-weight:600;}
.price{color:#7CFC00;margin-top:4px;}
.comp{margin-top:10px;color:#bbb;font-size:14px;}
.stars{margin-top:6px;color:#bbb;font-size:14px;}

.filters{
    display:flex;
    gap:10px;
    margin-bottom:20px;
}
select,input{
    background:#1a1a1a;
    border:1px solid #333;
    color:#fff;
    padding:10px;
    border-radius:10px;
    width:100%;
}
</style>
</head>

<body>

<h1>Карта бара</h1>

<div class="container">

<div class="filters">
<select id="strength">
<option value="">Крепость: все</option>
<option value="лег">лёгкие</option>
<option value="сред">средние</option>
<option value="креп">крепкие</option>
</select>

<input id="search" placeholder="Содержит… (водка, апельсин)">
</div>

<div id="menu"></div>

</div>

<script>

const SHEET_ID="1CceZ3cIic_k9Z9GnXg_wOzoUGdYonzVkfypmSzf_ln8";
const url=`https://opensheet.elk.sh/${SHEET_ID}/MENU`;

let cocktails=[];

fetch(url)
.then(r=>r.json())
.then(data=>{
    cocktails=data;
    render();
});

function render(){
    const strength=document.getElementById("strength").value;
    const search=document.getElementById("search").value.toLowerCase();
    const menu=document.getElementById("menu");
    menu.innerHTML="";

    cocktails.forEach(row=>{
        if(!row.Коктейль) return;

        let s=(row.Крепость||"").toLowerCase().replace("ё","е");

        if(strength && !s.includes(strength)) return;

        if(search && !row.Состав.toLowerCase().includes(search)) return;

        let stars="";
        if(s.includes("лег")) stars="★";
        if(s.includes("сред")) stars="★★";
        if(s.includes("креп")) stars="★★★";

        menu.innerHTML+=`
        <div class="card">
            <div class="name">${row.Коктейль}</div>
            <div class="price">${row.Цена}</div>
            <div class="stars">Крепость — ${stars}</div>
            <div class="comp">${row.Состав}</div>
        </div>`;
    });
}

document.getElementById("strength").onchange=render;
document.getElementById("search").oninput=render;

</script>

</body>
</html>
